<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <FontFamily x:Key="StraightSansSerifFont">Segoe UI</FontFamily>

    <DrawingBrush x:Key="GalaSoftHead"
                  Stretch="Uniform"
                  TileMode="None">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <GeometryDrawing Brush="#FFA06818"
                                 Geometry="F1 M 421.125,215.652L 468.292,128.542L 507.792,262.042C 504.125,258.434 500.458,254.825 496.903,251.618C 493.347,248.411 489.903,245.605 486.181,242.827C 482.458,240.049 478.458,237.3 473.903,234.694C 469.347,232.089 464.236,229.626 459.486,227.536C 454.736,225.445 450.347,223.727 446.042,222.238C 441.736,220.749 437.514,219.489 433.986,218.544C 430.458,217.599 427.625,216.969 425.597,216.539C 423.569,216.11 422.347,215.881 421.125,215.652 Z ">
                    <GeometryDrawing.Pen>
                        <Pen Thickness="15"
                             LineJoin="Round"
                             Brush="#FF000000" />
                    </GeometryDrawing.Pen>
                </GeometryDrawing>
                <GeometryDrawing Brush="#FFFFFFFF"
                                 Geometry="F1 M 279.75,262.833L 319,129.083L 367,217.583C 360.417,218.917 353.833,220.25 348.083,221.75C 342.333,223.25 337.417,224.917 332.833,226.75C 328.25,228.583 324,230.583 319.083,233.333C 314.167,236.083 308.583,239.583 303.625,243.25C 298.667,246.917 294.333,250.75 289.972,255.365C 285.611,259.979 281.222,265.375 276.833,270.771L 279.75,262.833 Z ">
                    <GeometryDrawing.Pen>
                        <Pen Thickness="15"
                             LineJoin="Round"
                             Brush="#FF000000" />
                    </GeometryDrawing.Pen>
                </GeometryDrawing>
                <GeometryDrawing Brush="#FFFFFFFF"
                                 Geometry="F1 M 284.125,397.979L 395.625,328.979L 508.125,395.479L 498.125,405.979C 494.708,408.646 491.292,411.313 487.75,413.979C 484.208,416.646 480.542,419.313 476.417,421.896C 472.292,424.479 467.708,426.979 463.458,429.104C 459.208,431.229 455.292,432.979 451.125,434.604C 446.958,436.229 442.542,437.729 437.625,439.021C 432.708,440.313 427.292,441.396 422.708,442.104C 418.125,442.813 414.375,443.146 409.083,443.396C 403.792,443.646 396.958,443.813 390.708,443.688C 384.458,443.563 378.792,443.146 373.333,442.479C 367.875,441.813 362.625,440.896 357.292,439.604C 351.958,438.313 346.542,436.646 341.583,434.938C 336.625,433.229 332.125,431.479 327.875,429.646C 323.625,427.813 319.625,425.896 316.083,423.938C 312.542,421.979 309.458,419.979 306.5,417.938C 303.542,415.896 300.708,413.813 298.208,411.688C 295.708,409.563 293.542,407.396 291.75,405.646C 289.958,403.896 288.542,402.563 287.333,401.354C 286.125,400.146 285.125,399.063 284.125,397.979 Z ">
                    <GeometryDrawing.Pen>
                        <Pen Thickness="15"
                             LineJoin="Round"
                             Brush="#FF000000" />
                    </GeometryDrawing.Pen>
                </GeometryDrawing>
                <GeometryDrawing Brush="#FFA06818"
                                 Geometry="F1 M 282.167,400.104L 394.167,331.438L 394.167,217.438C 388.611,217.438 383.056,217.438 376.944,218.104C 370.833,218.771 364.167,220.104 357.611,221.66C 351.056,223.215 344.611,224.993 338.278,227.326C 331.944,229.66 325.722,232.549 319.278,236.215C 312.833,239.882 306.167,244.326 300.167,248.882C 294.167,253.438 288.833,258.104 283.944,263.771C 279.056,269.438 274.611,276.104 270.722,282.66C 266.833,289.215 263.5,295.66 261.389,302.215C 259.278,308.771 258.389,315.438 257.722,322.549C 257.056,329.66 256.611,337.215 256.944,343.882C 257.278,350.549 258.389,356.326 260.167,362.104C 261.944,367.882 264.389,373.66 267.056,378.66C 269.722,383.66 272.611,387.882 275.167,391.326C 277.722,394.771 279.944,397.438 282.167,400.104 Z ">
                    <GeometryDrawing.Pen>
                        <Pen Thickness="8"
                             LineJoin="Round"
                             Brush="#FF000000" />
                    </GeometryDrawing.Pen>
                </GeometryDrawing>
                <GeometryDrawing Brush="#FF000000"
                                 Geometry="F1 M 506.833,396.104L 395.5,330.104L 395.5,218.096C 405.056,219.21 414.611,220.324 423.167,221.77C 431.722,223.215 439.278,224.993 446.944,227.438C 454.611,229.882 462.389,232.993 469.5,236.438C 476.611,239.882 483.056,243.66 488.5,247.66C 493.944,251.66 498.389,255.882 503.389,260.771C 508.389,265.66 513.944,271.215 517.944,276.993C 521.944,282.771 524.389,288.771 527.167,295.882C 529.944,302.993 533.055,311.215 534.389,319.438C 535.722,327.66 535.278,335.882 533.833,343.771C 532.389,351.66 529.944,359.215 527.5,365.326C 525.055,371.438 522.611,376.104 520.055,379.993C 517.5,383.882 514.833,386.993 512.611,389.549C 510.389,392.104 508.611,394.104 506.833,396.104 Z ">
                    <GeometryDrawing.Pen>
                        <Pen Thickness="8"
                             LineJoin="Round"
                             Brush="#FF000000" />
                    </GeometryDrawing.Pen>
                </GeometryDrawing>
                <GeometryDrawing Geometry="M 379.333,369.063L 396,377.604L 396,404.271L 369.5,420.604L 355.833,412.604M 396.042,378.646L 396,378.604L 396,404.271L 422.833,419.771L 436.5,412.438M 396,378.438L 412.833,368.938">
                    <GeometryDrawing.Pen>
                        <Pen Thickness="5"
                             StartLineCap="Round"
                             EndLineCap="Round"
                             LineJoin="Round"
                             Brush="#FFFF8080" />
                    </GeometryDrawing.Pen>
                </GeometryDrawing>
                <GeometryDrawing Geometry="F1 M 395.167,215.333C 471.198,215.333 532.833,266.545 532.833,329.719C 532.833,392.892 471.198,444.104 395.167,444.104C 319.135,444.104 257.5,392.892 257.5,329.719C 257.5,266.545 319.135,215.333 395.167,215.333 Z ">
                    <GeometryDrawing.Pen>
                        <Pen Thickness="15"
                             LineJoin="Round"
                             Brush="#FF000000" />
                    </GeometryDrawing.Pen>
                </GeometryDrawing>
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>

    <DrawingBrush x:Key="HelpBrush"
                  Stretch="Uniform">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <GeometryDrawing Brush="#FFFFFFFF"
                                 Geometry="F1 M 258.087,98.8L 243.6,98.8L 243.6,96.25C 243.6,93 243.952,90.6042 244.656,89.0625C 245.36,87.5208 246.646,86.3209 248.512,85.4625L 251.087,84.2875C 253.029,83.4041 254,82.1584 254,80.55C 254,79.6167 253.69,78.825 253.069,78.175C 252.448,77.525 251.692,77.2 250.8,77.2C 248.367,77.2 247.15,78.8 247.15,82L 233.675,82C 233.675,77.3667 234.762,73.5875 236.938,70.6625C 238.537,68.4958 240.619,66.7771 243.181,65.5063C 245.744,64.2354 248.396,63.6 251.137,63.6C 255.996,63.6 260.087,65.2271 263.413,68.4813C 266.737,71.7354 268.4,75.7667 268.4,80.575C 268.4,86.5084 266.058,90.675 261.375,93.075C 259.842,93.8583 258.91,94.5375 258.581,95.1125C 258.252,95.6875 258.087,96.9167 258.087,98.8 Z M 251.137,100.4C 253.671,100.4 255.848,101.317 257.669,103.15C 259.49,104.983 260.4,107.167 260.4,109.7C 260.4,112.225 259.496,114.373 257.688,116.144C 255.879,117.915 253.696,118.8 251.137,118.8C 248.479,118.8 246.292,117.942 244.575,116.225C 242.858,114.508 242,112.321 242,109.663C 242,107.079 242.892,104.89 244.675,103.094C 246.458,101.298 248.612,100.4 251.137,100.4 Z " />
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>

    <DrawingBrush x:Key="SourceCodeBrush"
                  Stretch="Uniform">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <GeometryDrawing Brush="#FFFFFFFF"
                                 Geometry="F1 M 285.4,213.175L 285.4,228.388C 284.225,228.529 283.317,228.6 282.675,228.6C 281.45,228.6 280.398,229.04 279.519,229.919C 278.64,230.798 278.2,231.858 278.2,233.1C 278.2,234.158 278.708,235.504 279.725,237.138L 281.038,239.225C 283.413,243.008 284.6,246.658 284.6,250.175C 284.6,255.317 282.717,259.673 278.95,263.244C 275.183,266.815 270.583,268.6 265.15,268.6C 262.542,268.6 259.958,267.925 257.4,266.575L 257.4,251.038C 259.033,252.079 260.483,252.6 261.75,252.6C 263.25,252.6 264.5,252.204 265.5,251.413C 266.5,250.621 267,249.633 267,248.45C 267,247.667 266.179,245.971 264.538,243.362C 261.913,239.212 260.6,235.067 260.6,230.925C 260.6,225.933 262.402,221.631 266.006,218.019C 269.61,214.406 273.913,212.6 278.913,212.6C 281.113,212.6 283.275,212.792 285.4,213.175 Z " />
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>

    <DrawingBrush x:Key="CheckVersionBrush"
                  Stretch="Uniform">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <DrawingGroup.Children>
                    <GeometryDrawing Brush="#FFFFFFFF"
                                     Geometry="F1 M 27.795,-1.52588e-005L 13.845,33.99L 0,-1.52588e-005L 11.01,-1.52588e-005L 13.9425,10.0125L 17.175,-1.52588e-005L 27.795,-1.52588e-005 Z " />
                </DrawingGroup.Children>
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>

    <Style x:Key="MainWindowStyle"
           TargetType="{x:Type Window}">
        <Setter Property="SizeToContent"
                Value="WidthAndHeight" />
    </Style>

    <Style x:Key="MainBorderStyle"
           TargetType="{x:Type Border}">
        <Setter Property="Background"
                Value="#FF696B7A" />
        <Setter Property="Height"
                Value="380" />
        <Setter Property="Width"
                Value="400" />
        <Setter Property="Padding"
                Value="10" />
    </Style>

    <Style x:Key="TextBlockBaseStyle"
           TargetType="{x:Type TextBlock}">
        <Setter Property="FontFamily"
                Value="{StaticResource StraightSansSerifFont}" />
        <Setter Property="Foreground"
                Value="White" />
        <Setter Property="FontSize"
                Value="16" />
        <Setter Property="Opacity"
                Value="0.6" />
    </Style>

    <ControlTemplate x:Key="TextButtonTemplate"
                     TargetType="{x:Type Button}">
        <Grid>
            <TextBlock x:Name="Main"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Top"
                       FontFamily="{TemplateBinding FontFamily}"
                       FontSize="{TemplateBinding FontSize}"
                       FontStyle="{TemplateBinding FontStyle}"
                       FontWeight="{TemplateBinding FontWeight}"
                       Foreground="{TemplateBinding Foreground}"
                       Text="{TemplateBinding Content}"
                       TextWrapping="Wrap"
                       Opacity="0.8"
                       TextTrimming="CharacterEllipsis" />
        </Grid>

        <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
                <Setter Property="Opacity"
                        TargetName="Main"
                        Value="1" />
            </Trigger>
            <Trigger Property="IsPressed"
                     Value="True">
                <Setter Property="Opacity"
                        TargetName="Main"
                        Value="0.7" />
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style x:Key="SettingsDisplayLabelStyle"
           TargetType="{x:Type Label}">
        <Setter Property="FontStyle"
                Value="Italic" />
        <Setter Property="FontSize"
                Value="16" />
        <Setter Property="FontFamily"
                Value="{StaticResource StraightSansSerifFont}" />
        <Setter Property="Margin"
                Value="5,5,0,-8" />
        <Setter Property="Foreground"
                Value="#FFC6C6C6" />
        <Setter Property="Background"
                Value="Transparent" />
    </Style>

    <Style x:Key="SettingsDisplayButtonStyle"
           TargetType="{x:Type Button}">
        <Style.Triggers>
            <Trigger Property="IsEnabled"
                     Value="False">
                <Setter Property="Foreground"
                        Value="#FF848484" />
            </Trigger>
        </Style.Triggers>
        <Setter Property="Margin"
                Value="10,0" />
        <Setter Property="Height"
                Value="45" />
        <Setter Property="Template"
                Value="{StaticResource TextButtonTemplate}" />
        <Setter Property="FontSize"
                Value="16" />
        <Setter Property="FontWeight"
                Value="Bold" />
        <Setter Property="Foreground"
                Value="White" />
        <Setter Property="Cursor"
                Value="Hand" />
        <Setter Property="FontFamily"
                Value="{StaticResource StraightSansSerifFont}" />
    </Style>

    <ControlTemplate x:Key="InstallRadioButtonTemplate"
                     TargetType="{x:Type RadioButton}">
        <Border x:Name="Root"
                Cursor="{TemplateBinding Cursor}"
                BorderThickness="1"
                Background="#00000000"
                BorderBrush="White"
                Padding="5,2,5,5">
            <ContentPresenter x:Name="Main"
                              VerticalAlignment="Center"
                              Opacity="0.8" />
        </Border>
        <ControlTemplate.Triggers>
            <MultiTrigger>
                <MultiTrigger.Conditions>
                    <Condition Property="IsChecked"
                               Value="False" />
                    <Condition Property="IsEnabled"
                               Value="False" />
                </MultiTrigger.Conditions>
                <Setter Property="BorderBrush"
                        TargetName="Root"
                        Value="{x:Null}" />
                <Setter Property="Background"
                        TargetName="Root"
                        Value="#FF969696" />
            </MultiTrigger>
            <MultiTrigger>
                <MultiTrigger.Conditions>
                    <Condition Property="IsChecked"
                               Value="True" />
                    <Condition Property="IsEnabled"
                               Value="False" />
                </MultiTrigger.Conditions>
                <Setter Property="Background"
                        TargetName="Root"
                        Value="#FF969696" />
                <Setter Property="BorderBrush"
                        TargetName="Root"
                        Value="White" />
            </MultiTrigger>
            <Trigger Property="IsEnabled"
                     Value="False">
                <Setter Property="Background"
                        TargetName="Root"
                        Value="#FF434343" />
            </Trigger>
            <Trigger Property="IsPressed"
                     Value="True">
                <Setter Property="Opacity"
                        TargetName="Root"
                        Value="0.7" />
            </Trigger>
            <Trigger Property="IsMouseOver"
                     Value="True">
                <Setter Property="Opacity"
                        TargetName="Main"
                        Value="1" />
            </Trigger>
            <MultiTrigger>
                <MultiTrigger.Conditions>
                    <Condition Property="IsChecked"
                               Value="False" />
                    <Condition Property="IsMouseOver"
                               Value="False" />
                </MultiTrigger.Conditions>
                <Setter Property="Opacity"
                        TargetName="Main"
                        Value="0.4" />
                <Setter Property="BorderBrush"
                        TargetName="Root"
                        Value="{x:Null}" />
            </MultiTrigger>
            <MultiTrigger>
                <MultiTrigger.Conditions>
                    <Condition Property="IsChecked"
                               Value="False" />
                    <Condition Property="IsMouseOver"
                               Value="True" />
                </MultiTrigger.Conditions>
                <Setter Property="BorderBrush"
                        TargetName="Root"
                        Value="{x:Null}" />
                <Setter Property="Opacity"
                        TargetName="Main"
                        Value="1" />
            </MultiTrigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style x:Key="InstallRadioButtonStyle"
           TargetType="{x:Type RadioButton}">
        <Setter Property="FontFamily"
                Value="{StaticResource StraightSansSerifFont}" />
        <Setter Property="FontSize"
                Value="16" />
        <Setter Property="FontWeight"
                Value="Bold" />
        <Setter Property="Foreground"
                Value="White" />
        <Setter Property="Margin"
                Value="10,0" />
        <Setter Property="Template"
                Value="{StaticResource InstallRadioButtonTemplate}" />
        <Setter Property="GroupName"
                Value="InstallRadioButtons" />
        <Setter Property="Cursor"
                Value="Hand" />
    </Style>

    <ControlTemplate x:Key="InstallButtonTemplate"
                     TargetType="{x:Type Button}">
        <Border x:Name="RootBorder"
                RenderTransformOrigin="0.5,0.5"
                Background="{TemplateBinding Background}"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="{TemplateBinding BorderThickness}"
                CornerRadius="10">
            <Border.RenderTransform>
                <TransformGroup>
                    <ScaleTransform />
                    <SkewTransform />
                    <RotateTransform />
                    <TranslateTransform />
                </TransformGroup>
            </Border.RenderTransform>
            <Grid>
                <ContentPresenter HorizontalAlignment="Center"
                                  VerticalAlignment="Center" />
            </Grid>
        </Border>
        <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
                <Setter Property="Background"
                        TargetName="RootBorder"
                        Value="#66FFFFFF" />
            </Trigger>
            <Trigger Property="IsPressed"
                     Value="True">
                <Setter Property="Background"
                        TargetName="RootBorder"
                        Value="#66FFFFFF" />
                <Setter Property="Opacity"
                        TargetName="RootBorder"
                        Value="0.6" />
                <Setter Property="RenderTransform"
                        TargetName="RootBorder">
                    <Setter.Value>
                        <TransformGroup>
                            <ScaleTransform ScaleX="0.95"
                                            ScaleY="0.95" />
                            <SkewTransform />
                            <RotateTransform />
                            <TranslateTransform />
                        </TransformGroup>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
                <Setter Property="Opacity"
                        TargetName="RootBorder"
                        Value="0.4" />
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style x:Key="InstallButtonStyle"
           TargetType="{x:Type Button}">
        <Setter Property="Height"
                Value="40" />
        <Setter Property="Background"
                Value="#00000000" />
        <Setter Property="BorderBrush"
                Value="White" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="Template"
                Value="{StaticResource InstallButtonTemplate}" />
        <Setter Property="FontFamily"
                Value="{StaticResource StraightSansSerifFont}" />
        <Setter Property="FontSize"
                Value="18.667" />
        <Setter Property="FontWeight"
                Value="Bold" />
        <Setter Property="Foreground"
                Value="White" />
        <Setter Property="Cursor"
                Value="Hand" />
        <Setter Property="Margin"
                Value="10,0,10,20" />
        <Setter Property="VerticalAlignment"
                Value="Bottom" />
    </Style>

    <ControlTemplate x:Key="SquareButtonTemplate"
                     TargetType="{x:Type Button}">
        <Grid x:Name="Root"
              Opacity="0.8"
              RenderTransformOrigin="0.5,0.5"
              Background="#00000000">
            <Grid.RenderTransform>
                <TransformGroup>
                    <ScaleTransform />
                    <SkewTransform />
                    <RotateTransform />
                    <TranslateTransform />
                </TransformGroup>
            </Grid.RenderTransform>
            <Rectangle Fill="{TemplateBinding Background}" />
        </Grid>
        <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
                <Setter Property="Opacity"
                        TargetName="Root"
                        Value="1" />
            </Trigger>
            <Trigger Property="IsPressed"
                     Value="True">
                <Setter Property="Opacity"
                        TargetName="Root"
                        Value="1" />
                <Setter Property="RenderTransform"
                        TargetName="Root">
                    <Setter.Value>
                        <TransformGroup>
                            <ScaleTransform ScaleX="0.95"
                                            ScaleY="0.95" />
                            <SkewTransform />
                            <RotateTransform />
                            <TranslateTransform />
                        </TransformGroup>
                    </Setter.Value>
                </Setter>
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style x:Key="SquareButtonStyle"
           TargetType="{x:Type Button}">
        <Setter Property="Template"
                Value="{StaticResource SquareButtonTemplate}" />
        <Setter Property="Width"
                Value="50" />
        <Setter Property="Height"
                Value="50" />
        <Setter Property="HorizontalAlignment"
                Value="Center" />
        <Setter Property="Margin"
                Value="0,10,0,0" />
        <Setter Property="Cursor"
                Value="Hand" />
    </Style>

    <Storyboard x:Key="WaitStoryboard"
                RepeatBehavior="Forever"
                AutoReverse="True">
        <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                       Storyboard.TargetName="Wait"
                                       Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
            <SplineDoubleKeyFrame KeyTime="00:00:01"
                                  Value="360"
                                  KeySpline="0.37,0,0.62,1" />
        </DoubleAnimationUsingKeyFrames>
    </Storyboard>

    <Storyboard x:Key="ShowCacheStoryboard">
        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                                       Storyboard.TargetName="Cache"
                                       Storyboard.TargetProperty="(UIElement.Visibility)">
            <DiscreteObjectKeyFrame KeyTime="00:00:00"
                                    Value="{x:Static Visibility.Visible}" />
            <DiscreteObjectKeyFrame KeyTime="00:00:00.2000000"
                                    Value="{x:Static Visibility.Visible}" />
        </ObjectAnimationUsingKeyFrames>
        <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                       Storyboard.TargetName="Cache"
                                       Storyboard.TargetProperty="(UIElement.Opacity)">
            <SplineDoubleKeyFrame KeyTime="00:00:00"
                                  Value="0" />
            <SplineDoubleKeyFrame KeyTime="00:00:00.2000000"
                                  Value="0.7" />
        </DoubleAnimationUsingKeyFrames>
    </Storyboard>

    <Storyboard x:Key="HideCacheStoryboard">
        <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                       Storyboard.TargetName="Cache"
                                       Storyboard.TargetProperty="(UIElement.Opacity)">
            <SplineDoubleKeyFrame KeyTime="00:00:00"
                                  Value="1" />
            <SplineDoubleKeyFrame KeyTime="00:00:00.2000000"
                                  Value="0" />
        </DoubleAnimationUsingKeyFrames>
        <ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                                       Storyboard.TargetName="Cache"
                                       Storyboard.TargetProperty="(UIElement.Visibility)">
            <DiscreteObjectKeyFrame KeyTime="00:00:00"
                                    Value="{x:Static Visibility.Visible}" />
            <DiscreteObjectKeyFrame KeyTime="00:00:00.2000000"
                                    Value="{x:Static Visibility.Collapsed}" />
        </ObjectAnimationUsingKeyFrames>
    </Storyboard>

    <ControlTemplate x:Key="CacheTemplate"
                     TargetType="Control">
        <Border x:Name="Cache"
                Visibility="Collapsed"
                Opacity="0"
                Background="#44FFFFFF">
            <Rectangle x:Name="Wait"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Width="100"
                       Height="100"
                       RenderTransformOrigin="0.5,0.5"
                       Fill="{StaticResource GalaSoftHead}"
                       Opacity="0.6">
                <Rectangle.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform />
                        <SkewTransform />
                        <RotateTransform />
                        <TranslateTransform />
                    </TransformGroup>
                </Rectangle.RenderTransform>
            </Rectangle>
        </Border>

        <ControlTemplate.Triggers>
            <DataTrigger Binding="{Binding IsProcessing}"
                         Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard Storyboard="{StaticResource WaitStoryboard}"
                                     x:Name="WaitStoryboard_BeginStoryboard" />
                    <BeginStoryboard Storyboard="{StaticResource ShowCacheStoryboard}" />
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard Storyboard="{StaticResource HideCacheStoryboard}" />
                    <StopStoryboard BeginStoryboardName="WaitStoryboard_BeginStoryboard" />
                </DataTrigger.ExitActions>
            </DataTrigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style x:Key="CacheStyle"
           TargetType="Control">
        <Setter Property="Template"
                Value="{StaticResource CacheTemplate}" />
    </Style>

</ResourceDictionary>